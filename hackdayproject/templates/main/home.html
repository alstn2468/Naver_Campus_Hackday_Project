{% extends 'base.html' %}
{% load main_tags %}
{% block content %}
	<h2>Home</h2>
	{% if user.is_authenticated %}
		<p>Hello {{ user.username }}!</p>
		<p>{{ user.extradata }}</p>
	{% else %}
		<p>Please Login with Github</p>
	{% endif %}


	{% if messages %}
		<ul class="messages">
			{% for message in messages %}
				<li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
			{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
				{{ message }}
				</li>
			{% endfor %}
		</ul>
	{% endif %}

	{% if user.profile %}
        <img src="{{ user.profile.avatar_url }}" alt="user profile avatar" width="100" height="100"/>
        <p>Company : {{ user.profile.company }}</p>
        <p>Blog URL : {{ user.profile.blog_url }}</p>
        <p>Location : {{ user.profile.location }}</p>
        <p>Bio : {{ user.profile.bio }}</p>
        <p>Public Repository Count : {{ user.profile.public_repos_count }}</p>
        <p>Followers : {{ user.profile.followers }}</p>
        <p>Created Time : {{ user.profile.created_at }}</p>
        <p>Updated Time : {{ user.profile.updated_at }}</p>
    {% else %}
        <p>Can't get user profile data.</p>
    {% endif %}

    {% if orgs_data|get_type == "list" %}
        <ul>
        {% for orgs in orgs_data %}
            <li><img src="{{ orgs.avatar_url }}" alt="org_avatar" width="30" height="30" /> {{ orgs.orgs_name }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>{{ orgs_data }}</p>
    {% endif %}
	{% if user_repo|get_type == "list" %}
	<ul>
		{% for repo in user_repo %}	
			<li>{{ repo }}</li>
		{% endfor %}
	</ul>
	{% else %}
		<p>{{ user_repo }}</p>
	{% endif %}
{% endblock %}